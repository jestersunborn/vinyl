"use strict";var getAverageRGB=function(e){var t,n={r:0,g:0,b:0},r=document.createElement("canvas"),c=r.getContext&&r.getContext("2d"),o=20,a={r:0,g:0,b:0},i=0;if(!c)return n;var m=r.height=e.naturalHeight||e.offsetHeight||e.height,u=r.width=e.naturalWidth||e.offsetWidth||e.width;c.drawImage(e,0,0);try{t=c.getImageData(0,0,u,m)}catch(e){return console.warn(e),n}for(var l=t.data.length;o<l;)i+=1,a.r+=t.data[o],a.g+=t.data[o+1],a.b+=t.data[o+2],o+=20;return a.r=~~(a.r/i),a.g=~~(a.g/i),a.b=~~(a.b/i),a},toDataURL=function(e){return fetch(e).then(function(e){return e.blob()}).then(function(r){return new Promise(function(e,t){var n=new FileReader;n.onload=function(){return e(n.result)},n.onerror=t,n.readAsDataURL(r)})})},getImageElement=function(e){var t=document.createElement("img");return t.src=e,t},getShadow=function(e){var t=e.r,n=e.g,r=e.b;return"0 0.3em 0.5em -0.2em rgba(".concat(t,", ").concat(n,", ").concat(r,", .5),\n  0 1em 2em -0.75em rgba(").concat(t,", ").concat(n,", ").concat(r,", .45),\n  0 1em 3em -0.5em rgba(").concat(t,", ").concat(n,", ").concat(r,", .2),\n  0 3em 3em -0.25em rgba(").concat(t,", ").concat(n,", ").concat(r,", .1)")},copyItemsForBlur=function(){var t=document.querySelector("#items .items-content"),n=document.getElementById("items-before");n.innerHTML=t.innerHTML,t.onscroll=function(e){n.scrollTop=t.scrollTop}};copyItemsForBlur();var setActiveItem=function(e){var t=e.querySelector("img"),n=t.src,r=e.querySelector(".artist").innerHTML,c=e.querySelector(".album").innerHTML,o=e.querySelector(".link a").href,a=e.querySelector(".year").innerHTML,i=document.getElementById("activeCover");i.src=n,i.style.boxShadow=getShadow(getAverageRGB(t)),document.getElementById("activeArtist").innerHTML=r,document.getElementById("activeAlbum").innerHTML=c,document.getElementById("activeYear").innerHTML=a,document.getElementById("activeLink").href=o,document.getElementById("activeTitle").innerHTML=c},items=document.querySelectorAll(".items .items-content .item");items.forEach(function(e){e.onmouseenter=function(){setActiveItem(e)}}),setActiveItem(document.querySelector(".items .items-content .item:first-child"));
"use strict";var getAverageRGB=function(e){var t,c={r:0,g:0,b:0},r=document.createElement("canvas"),n=r.getContext&&r.getContext("2d"),o=20,a={r:0,g:0,b:0},i=0;if(!n)return c;var m=r.height=e.naturalHeight||e.offsetHeight||e.height,l=r.width=e.naturalWidth||e.offsetWidth||e.width;n.drawImage(e,0,0);try{t=n.getImageData(0,0,l,m)}catch(e){return console.warn(e),c}for(var s=t.data.length;o<s;)i+=1,a.r+=t.data[o],a.g+=t.data[o+1],a.b+=t.data[o+2],o+=20;return a.r=~~(a.r/i),a.g=~~(a.g/i),a.b=~~(a.b/i),a},getShadow=function(e){var t=e.r,c=e.g,r=e.b;return"0 0.3em 0.5em -0.2em rgba(".concat(t,", ").concat(c,", ").concat(r,", .5),\n  0 1em 2em -0.75em rgba(").concat(t,", ").concat(c,", ").concat(r,", .45),\n  0 1em 3em -0.5em rgba(").concat(t,", ").concat(c,", ").concat(r,", .2),\n  0 3em 3em -0.25em rgba(").concat(t,", ").concat(c,", ").concat(r,", .1)")},copyItemsForBlur=function(){var t=document.querySelector("#items .items-content"),c=document.getElementById("items-before");c.innerHTML=t.innerHTML,t.onscroll=function(e){c.scrollTop=t.scrollTop}},setActiveItem=function(e){var t=e.querySelector("img"),c=t.src,r=e.querySelector(".artist").innerHTML,n=e.querySelector(".album").innerHTML,o=e.querySelector(".link a").href,a=e.querySelector(".year").innerHTML,i=document.getElementById("activeCover");i.src=c,i.style.boxShadow=getShadow(getAverageRGB(t)),document.getElementById("activeArtist").innerHTML=r,document.getElementById("activeAlbum").innerHTML=n,document.getElementById("activeYear").innerHTML=a,document.getElementById("activeLink").href=o,document.getElementById("activeTitle").innerHTML=n},selectCategory=function(e){var t=document.querySelector(".categories .category.active");t&&t.classList.remove("active");var c=document.querySelector(".items");c.classList.remove("all","to-buy","already-have"),c.classList.add(e.id),e.classList.add("active")};copyItemsForBlur();var items=document.querySelectorAll(".items .items-content .item");items.forEach(function(e){e.onmouseenter=function(){setActiveItem(e)}}),setActiveItem(document.querySelector(".items .items-content .item:first-child"));var categories=document.querySelectorAll(".categories .category");categories.forEach(function(e){e.onclick=function(){selectCategory(e)}});